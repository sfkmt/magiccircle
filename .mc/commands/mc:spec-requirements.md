# /mc:spec-requirements

機能の要件定義文書を生成します。

## 実行内容

1. ユーザーからの要件情報を収集
2. 構造化された要件定義文書を生成
3. requirements.mdファイルに保存

## 使用方法

```bash
/mc:spec-requirements [feature-name]
```

## 引数

- `feature-name`: 対象機能の名前（省略時は最新の未承認仕様書）

## プロンプト

AIアシスタントへの指示：

1. 対象仕様書の確認：
   ```bash
   # spec.jsonを読み込んで現在のフェーズを確認
   cat .mc/specs/[feature-name]/spec.json
   ```

2. 要件定義フェーズが未承認であることを確認。

3. ユーザーに以下の情報を質問し、要件を収集：
   - 機能の目的と背景
   - 解決したい課題
   - 期待される成果
   - ユーザーストーリー
   - 受け入れ条件
   - 制約事項
   - 非機能要件（パフォーマンス、セキュリティなど）

4. 以下の構造でrequirements.mdを生成：

```markdown
# [Feature Name] 要件定義書

## 概要
[機能の簡潔な説明]

## 背景と目的
### 解決する課題
[箇条書きで課題を列挙]

### 期待される成果
[期待される成果を具体的に記述]

## ユーザーストーリー
- As a [ユーザータイプ], I want to [アクション] so that [価値]
- ...

## 機能要件
### 必須要件
- [ ] [要件1]
- [ ] [要件2]

### オプション要件
- [ ] [要件1]
- [ ] [要件2]

## 受け入れ条件
1. [条件1]
2. [条件2]

## 非機能要件
### パフォーマンス
[パフォーマンス要件]

### セキュリティ
[セキュリティ要件]

### 互換性
[互換性要件]

## 制約事項
- [制約1]
- [制約2]

## 関連機能との整合性
[既存機能との関係性]

## リスクと対策
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| [リスク1] | 高/中/低 | 高/中/低 | [対策] |

## 作成日
[YYYY-MM-DD]

## 最終更新日
[YYYY-MM-DD]
```

5. 生成後、ユーザーに確認を促し、承認の準備ができたら`/mc:spec-approve requirements`を案内。

注意事項：
- 要件は具体的かつ測定可能にする
- 技術的な実装詳細は含めない（設計フェーズで扱う）
- ステアリング文書との整合性を保つ