# Show Specification Differences

仕様書の変更履歴や差分を表示します。要件変更時の影響範囲を明確にします。

## 使用方法
```
/gd:spec-diff [feature-name] [phase]
```

## パラメータ
- `feature-name`: 機能名
- `phase`: 対象フェーズ（requirements | design | tasks）（省略可）

## 実行内容

1. 指定された仕様書の変更履歴を確認
2. 変更前後の差分を表示
3. 他のフェーズへの影響を分析

## プロンプト

仕様書の変更差分を表示します。

1. Gitの履歴から変更を検出：
```bash
git log --oneline .gd/specs/[feature-name]/
```

2. 差分レポートを生成：

```markdown
# 仕様書変更レポート: [feature-name]

## 変更サマリー
- 最終更新: [日時]
- 変更フェーズ: [phase]
- 変更の種類: [追加/修正/削除]

## 詳細な変更内容

### Requirements変更
```diff
- 削除された要件
+ 追加された要件
! 修正された要件
```

### Design変更
```diff
- 削除された設計要素
+ 追加された設計要素
! 修正された設計要素
```

### Tasks変更
```diff
- 削除されたタスク
+ 追加されたタスク
! 修正されたタスク
```

## 影響分析

### 下流への影響
- Design: [Requirements変更による影響]
- Tasks: [Design変更による影響]

### 実装への影響
- 影響を受けるファイル: [ファイルリスト]
- 再テストが必要な領域: [テスト領域]

## 推奨アクション
1. [必要なアクション1]
2. [必要なアクション2]

## 変更理由（記録されている場合）
[変更の背景と理由]
```

3. 重要な変更がある場合は警告：
- 承認済みフェーズの変更
- 実装済みタスクへの影響
- 破壊的変更の可能性

この機能により、仕様変更の透明性が確保され、チーム全体で変更の影響を把握できます。