# Generate Technical Design Document

機能の技術設計文書を生成します。要件定義に基づいて、実装方法の詳細な技術設計を行います。

## 前提条件
- requirements フェーズが承認済みであること
- design フェーズが未承認状態であること

## 実行内容

1. 承認済みの要件定義を読み込み
2. 技術設計文書を生成
3. `spec.json`のdesign.statusを"draft"に更新

## プロンプト

要件定義に基づいて技術設計を作成します。

1. `.kiro/specs/[feature-name]/requirements.md`を読み込み
2. `spec.json`でrequirementsフェーズが承認済みか確認
3. `design.md`を以下の構成で生成：

```markdown
# [機能名] 技術設計書

## 1. アーキテクチャ概要
[システム全体での位置づけとアーキテクチャ図]

## 2. 技術スタック
- フロントエンド: 
- バックエンド: 
- データベース: 
- その他: 

## 3. データモデル
### 3.1 エンティティ定義
```
[Entity名]
- field1: type
- field2: type
```

### 3.2 リレーション
[ER図またはテキストでの関係性説明]

## 4. API設計
### 4.1 エンドポイント一覧
- `GET /api/resource` - リソース一覧取得
- `POST /api/resource` - リソース作成
- ...

### 4.2 リクエスト/レスポンス仕様
[各エンドポイントの詳細]

## 5. 画面設計
### 5.1 画面構成
[画面遷移図]

### 5.2 コンポーネント設計
- Component1: 責務と機能
- Component2: 責務と機能

## 6. セキュリティ設計
- 認証方式: 
- 認可方式: 
- データ暗号化: 

## 7. エラーハンドリング
- エラーコード体系
- エラー処理フロー

## 8. テスト戦略
- 単体テスト: カバレッジ目標
- 統合テスト: テストシナリオ
- E2Eテスト: 主要フロー

## 9. デプロイメント
- 環境構成
- CI/CDパイプライン
- 監視設定
```

4. `spec.json`のdesign.statusを"draft"に更新

生成後、技術レビューと承認が必要です。