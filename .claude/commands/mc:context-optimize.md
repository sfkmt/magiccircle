# Optimize Context for AI

AIへの入力コンテキストを最適化します。不要な情報を除外し、必要な情報のみを含む最小限のコンテキストを生成します。

## 使用方法
```
/mc:context-optimize [target] [scope]
```

## パラメータ
- `target`: 最適化対象（feature | phase | task | file）
- `scope`: スコープ指定（具体的な機能名、フェーズ名、タスクID、ファイルパス）

## 実行内容

1. 対象の情報を分析
2. 必要な情報を抽出
3. 不要な情報を除外
4. 最適化されたコンテキストを生成

## プロンプト

指定された対象のコンテキストを最適化します。

1. 対象情報の収集と分析
2. 最適化されたコンテキストを生成：

```markdown
# Optimized Context: [target] - [scope]

## 必須情報
[AIが確実に知るべき最小限の情報]

### 関連定義
```
[必要な定義、型、インターフェースのみ]
```

### 制約事項
- [作業に直接関係する制約のみ]

## 参照情報
[必要に応じて参照すべき追加情報]

## 除外された情報
- [除外理由1]: [除外した情報カテゴリ1]
- [除外理由2]: [除外した情報カテゴリ2]

## 使用方法
このコンテキストを使用する際は、以下をプロンプトに含めてください：
```
上記のOptimized Contextに基づいて、[具体的なタスク]を実行してください。
```
```

### コンテキスト最適化の原則：

1. **必須情報の特定**
   - 直接的に必要な情報のみ含める
   - 依存関係は最小限に

2. **ノイズの除去**
   - コメントアウトされたコード
   - 使用されていない定義
   - 冗長な説明

3. **構造の簡潔化**
   - ネストを浅く
   - 関連情報をグループ化
   - 明確な優先順位付け

4. **サイズの制限**
   - トークン使用量を考慮
   - 段階的な情報提供
   - 必要に応じて分割

### 最適化の効果測定：
```yaml
最適化前:
  トークン数: [数値]
  情報密度: [低/中/高]
  ノイズ率: [%]

最適化後:
  トークン数: [数値] (削減率: X%)
  情報密度: [低/中/高]
  ノイズ率: [%]
```

この機能により、AIの応答精度が向上し、コスト効率も改善されます。